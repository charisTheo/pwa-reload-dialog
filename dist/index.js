!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var o=n(1);e.exports="string"==typeof o?o:o.toString()},function(e,t,n){(t=n(2)(!1)).push([e.i,'.dialog {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    overflow-y: auto;\n    overflow-x: hidden;\n    width: 100%;\n    box-sizing: border-box;\n    align-items: center;\n    display: flex;\n    justify-content: center;\n    text-align: center;\n    background-color: var(--pwa-reload-dialog-bg-color, #ff4081);\n    color: var(--pwa-reload-dialog-color, #303f9f);\n    box-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12);\n    padding: 3px 0px 3px 4px;\n    transition: transform 0.3s ease-in;\n    transform-origin: center top;\n    transform: scaleY(0);\n    z-index: -1;\n}\n#dialog-text-content {\n    font-size: 14px;\n    font-weight: bolder;\n    flex-grow: 5;\n}\n.dialog-dismiss-button {\n    padding: 0px 16px;\n    background-color: transparent;\n    outline: none;\n    border: none;\n    font-size: inherit;\n    font-weight: bolder;\n}\n.dialog-dismiss-button > svg > .x-path {\n    fill: var(--pwa-reload-dialog-color, #303f9f);\n}\n.dialog[open] {\n    transform: scaleY(1);\n}\n.dialog[closed] {\n    display: none;\n}\n\n.focus-text {\n    will-change: transform;\n}\n.focus-text:focus {\n    outline: none;\n    border: none;\n    transition: all 0.3s ease-out;\n    transform: scale(1.05);\n    filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.5));\n}\n.focus-outline:focus {\n    transition: outline 0.3s ease-out;\n    outline: 2px solid #FFEB3B;\n}',""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=(s=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),r=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(r).concat([i]).join("\n")}var s,a,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);o&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";n.r(t);try{self["workbox:window:5.0.0"]&&_()}catch(e){}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}try{self["workbox:core:5.0.0"]&&_()}catch(e){}var i=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};function r(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var s=function(e,t){this.type=e,Object.assign(this,t)};function a(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function l(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function c(){}var d=function(e){var t,n;function c(t,n){var o;return void 0===n&&(n={}),(o=e.call(this)||this).t={},o.i=0,o.o=new i,o.u=new i,o.s=new i,o.v=0,o.h=new Set,o.l=function(){var e=o.g,t=e.installing;o.i>0||!r(t.scriptURL,o.m)||performance.now()>o.v+6e4?(o.p=t,e.removeEventListener("updatefound",o.l)):(o.P=t,o.h.add(t),o.o.resolve(t)),++o.i,t.addEventListener("statechange",o.k)},o.k=function(e){var t=o.g,n=e.target,i=n.state,r=n===o.p,a=r?"external":"",l={sw:n,originalEvent:e};!r&&o.j&&(l.isUpdate=!0),o.dispatchEvent(new s(a+i,l)),"installed"===i?o.O=self.setTimeout((function(){"installed"===i&&t.waiting===n&&o.dispatchEvent(new s(a+"waiting",l))}),200):"activating"===i&&(clearTimeout(o.O),r||o.u.resolve(n))},o.R=function(e){var t=o.P;t===navigator.serviceWorker.controller&&(o.dispatchEvent(new s("controlling",{sw:t,originalEvent:e,isUpdate:o.j})),o.s.resolve(t))},o.S=l((function(e){var t=e.data,n=e.source;return a(o.getSW(),(function(){o.h.has(n)&&o.dispatchEvent(new s("message",{data:t,sw:n,originalEvent:e}))}))})),o.m=t,o.t=n,navigator.serviceWorker.addEventListener("message",o.S),o}n=e,(t=c).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d,g,h=c.prototype;return h.register=l((function(e){var t=this,n=(void 0===e?{}:e).immediate,o=void 0!==n&&n;return function(e,t){var n=function(){if(!o&&"complete"!==document.readyState)return u(new Promise((function(e){return window.addEventListener("load",e)})))}();return n&&n.then?n.then(t):t()}(0,(function(){return t.j=Boolean(navigator.serviceWorker.controller),t.U=t.B(),a(t.L(),(function(e){t.g=e,t.U&&(t.P=t.U,t.u.resolve(t.U),t.s.resolve(t.U),t.U.addEventListener("statechange",t.k,{once:!0}));var n=t.g.waiting;return n&&r(n.scriptURL,t.m)&&(t.P=n,Promise.resolve().then((function(){t.dispatchEvent(new s("waiting",{sw:n,wasWaitingBeforeRegister:!0}))})).then((function(){}))),t.P&&(t.o.resolve(t.P),t.h.add(t.P)),t.g.addEventListener("updatefound",t.l),navigator.serviceWorker.addEventListener("controllerchange",t.R,{once:!0}),t.g}))}))})),h.update=l((function(){if(this.g)return u(this.g.update())})),h.getSW=l((function(){return void 0!==this.P?this.P:this.o.promise})),h.messageSW=l((function(e){return a(this.getSW(),(function(t){return function(e,t){return new Promise((function(n){var o=new MessageChannel;o.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[o.port2])}))}(t,e)}))})),h.B=function(){var e=navigator.serviceWorker.controller;return e&&r(e.scriptURL,this.m)?e:void 0},h.L=l((function(){var e=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return a(navigator.serviceWorker.register(e.m,e.t),(function(t){return e.v=performance.now(),t}))}),(function(e){throw e}))})),d=c,(g=[{key:"active",get:function(){return this.u.promise}},{key:"controlling",get:function(){return this.s.promise}}])&&o(d.prototype,g),c}(function(){function e(){this.M=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this._(e).add(t)},t.removeEventListener=function(e,t){this._(e).delete(t)},t.dispatchEvent=function(e){e.target=this;var t=this._(e.type),n=Array.isArray(t),o=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(o>=t.length)break;i=t[o++]}else{if((o=t.next()).done)break;i=o.value}i(e)}},t._=function(e){return this.M.has(e)||this.M.set(e,new Set),this.M.get(e)},e}());function u(e,t){if(!t)return e&&e.then?e.then(c):Promise.resolve()}var g,h=n(0),f=n.n(h);class p extends HTMLElement{constructor(){super(),this.logInfo=""===this.getAttribute("dev")?console.info.bind(console):()=>{},this.logWarn=""===this.getAttribute("dev")?console.warn.bind(console):()=>{},this.open=this.open.bind(this),this.dismiss=this.dismiss.bind(this)}connectedCallback(){this.attachShadow({mode:"open"}),this.swUrl=this.getAttribute("sw-url"),this.swScope=this.getAttribute("sw-scope"),"serviceWorker"in navigator&&(g=new d(this.swUrl,{scope:this.swScope}),this.listenForNewVersion(),g.register())}get dialog(){return this._dialog||this.shadowRoot.querySelector(".dialog")}set dialog(e){this._dialog=e}get timeout(){return this._timeout||6e3}set timeout(e){this._timeout=e}get swUrl(){return this._swUrl||"./sw.js"}set swUrl(e){this._swUrl=e}get swScope(){return this._swScope||"/"}set swScope(e){this._swScope=e}get labelText(){return this._labelText||"A new version is available ðŸ’Ž"}set labelText(e){this._labelText=e}get color(){return this._color||"#303f9f"}set color(e){this._color=e}get backgroundColor(){return this._backgroundColor||"#ff4081"}set backgroundColor(e){this._backgroundColor=e}static get observedAttributes(){return["sw-url","sw-scope","timeout","color","background-color","on-dismiss"]}attributeChangedCallback(e,t,n){switch(e){case"sw-url":this.swUrl=n;break;case"sw-scope":this.swScope=n;break;case"timeout":this.timeout=n;break;case"label-text":this.labelText=n;break;case"color":this.color=n;break;case"background-color":this.backgroundColor=n;break;default:this.logWarn("PwaReloadDialog -> Unknown attribute has been added",e)}}disconnectedCallback(){this.logInfo("PwaReloadDialog -> Web component removed from page.")}async listenForNewVersion(){this.logInfo("PwaReloadDialog -> Attaching Service Worker event listeners for any new versions."),g.addEventListener("waiting",()=>{this.logWarn("PwaReloadDialog -> Make sure you include the following in your Service Worker JS file:\n                addEventListener('message', event => {\n                    if (event.data && event.data.type === 'NEW_VERSION') {\n                        skipWaiting();\n                    }\n                });\n            "),this.onNewVersionFound()})}onNewVersionFound(){this.logInfo("PwaReloadDialog -> New version has been found! Opening snackbar...");const e=this.createNewDialogElement();this.attachDialogToShadowRoot(e),this.open()}createNewDialogElement(){return((e,t)=>{t=t||{};const n=document.createElement("div"),o=document.createElement("div");let i;return n.classList.add("dialog"),n.setAttribute("aria-live","polite"),n.setAttribute("role","dialog"),n.setAttribute("aria-describedby","dialog-text-content"),o.id="dialog-text-content",o.classList.add("focus-text"),o.innerHTML=e,o.setAttribute("tabindex","0"),t.classList&&n.classList.add(t.classList),i=document.createElement("button"),i.setAttribute("aria-label","Dialog dismiss button"),i.classList.add("dialog-dismiss-button","focus-outline"),i.innerHTML='<svg tabindex="-1" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path class="x-path" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',i.addEventListener("click",t.dismiss),t.eventListener&&(o.addEventListener("click",t.eventListener),o.setAttribute("aria-label",t.eventListenerLabel),o.style.cursor="pointer",o.setAttribute("role","button")),n.innerHTML+='<div style="flex: 1"></div>',n.appendChild(o),n.appendChild(i),n})(this.labelText,{timeout:this.timeout,dismiss:this.dismiss,eventListener:this.updateAndReload.bind(this),eventListenerLabel:"Reload page for the new version"})}attachDialogToShadowRoot(e){this.logInfo("PwaReloadDialog -> Appending dialog content and styles into shadow root.");const t=document.createElement("template");t.innerHTML=`\n            <style>\n                :host {\n                    --pwa-reload-dialog-color: ${this.color};\n                    --pwa-reload-dialog-bg-color: ${this.backgroundColor};\n                }\n                ${f.a}\n            </style>\n        `,this.logInfo("PwaReloadDialog -> Opening dialog..."),this.shadowRoot.appendChild(t.content.cloneNode(!0)),this.shadowRoot.appendChild(e)}open(){const e=this.shadowRoot.querySelector(".dialog");e.removeAttribute("closed"),e.setAttributeNode(document.createAttribute("open")),e.setAttribute("aria-hidden","false"),this.logInfo("PwaReloadDialog -> Opened"),this.timeout&&setTimeout(()=>{this.dismiss()},this.timeout)}dismiss(){const e=this.shadowRoot.querySelector(".dialog");e.removeAttribute("open"),e.setAttribute("aria-hidden","true"),e.addEventListener("transitionend",()=>{this.logInfo("PwaReloadDialog -> Dismissed"),e.setAttributeNode(document.createAttribute("closed"))})}updateAndReload(){this.logInfo("PwaReloadDialog -> Updating service worker and reloading the page."),g.addEventListener("controlling",()=>window.location.reload()),g.messageSW({type:"NEW_VERSION"})}}window.customElements.get("pwa-reload-dialog")||window.customElements.define("pwa-reload-dialog",p)}]);